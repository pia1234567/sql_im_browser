<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SQLite (lokal im Browser) – SQL-Abfragen</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #111a33;
      --panel2: #0f1730;
      --text: #e7ecff;
      --muted: #b9c2ff;
      --border: rgba(255,255,255,.14);
      --accent: #7aa2ff;
      --accent2: #9cffd6;
      --danger: #ff6b6b;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: radial-gradient(1200px 800px at 15% 10%, #18285a 0%, var(--bg) 55%) fixed;
      color: var(--text);
      font-family: var(--sans);
    }
    header {
      padding: 18px 18px 10px;
      border-bottom: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(17,26,51,.9), rgba(17,26,51,.55));
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(8px);
    }
    header h1 {
      font-size: 18px;
      margin: 0 0 6px 0;
      letter-spacing: .2px;
    }
    header .sub {
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
      max-width: 1100px;
    }
    .wrap {
      height: calc(100% - 86px);
      display: flex;
      flex-direction: column;
    }
    .panes {
      flex: 1;
      display: grid;
      grid-template-columns: 1.2fr .8fr 1.2fr;
      gap: 12px;
      padding: 12px 12px 16px;
      min-height: 0;
    }
    .pane {
      background: linear-gradient(180deg, rgba(17,26,51,.85), rgba(15,23,48,.85));
      border: 1px solid var(--border);
      border-radius: 14px;
      overflow: hidden;
      min-height: 0;
      display: flex;
      flex-direction: column;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
    }
    .pane .title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      font-size: 13px;
      color: var(--muted);
    }
    .title strong { color: var(--text); font-weight: 650; }
    .content {
      padding: 10px 12px 12px;
      overflow: auto;
      min-height: 0;
    }
    textarea {
      width: 100%;
      min-height: 210px;
      resize: vertical;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(8, 12, 24, .65);
      color: var(--text);
      padding: 10px;
      font-family: var(--mono);
      font-size: 13px;
      line-height: 1.45;
      outline: none;
    }
    .controls {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    button {
      border: 1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(122,162,255,.25), rgba(122,162,255,.12));
      color: var(--text);
      padding: 9px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 650;
      letter-spacing: .2px;
    }
    button:hover { border-color: rgba(122,162,255,.65); }
    .pill {
      font-family: var(--mono);
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      color: var(--muted);
      background: rgba(0,0,0,.18);
    }
    .status-ok { color: var(--accent2); }
    .status-bad { color: var(--danger); }
    .tree {
      font-family: var(--mono);
      font-size: 12.5px;
      line-height: 1.4;
    }
    .tree details {
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.14);
      border-radius: 10px;
      padding: 8px 10px;
      margin-bottom: 8px;
    }
    .tree summary {
      cursor: pointer;
      color: var(--text);
      font-weight: 650;
    }
    .tree ul {
      margin: 8px 0 0 18px;
      padding: 0;
    }
    .tree li {
      margin: 4px 0;
      color: var(--muted);
    }
    table {
      border-collapse: collapse;
      width: 100%;
      font-size: 12.5px;
    }
    th, td {
      border: 1px solid rgba(255,255,255,.12);
      padding: 7px 8px;
      vertical-align: top;
      word-break: break-word;
    }
    th {
      position: sticky;
      top: 0;
      background: rgba(9, 14, 28, .92);
      color: var(--text);
      font-weight: 650;
    }
    .hint {
      color: var(--muted);
      font-size: 12px;
      margin-top: 10px;
      line-height: 1.35;
    }
    .kbd {
      font-family: var(--mono);
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.18);
      padding: 1px 6px;
      border-radius: 7px;
    }
    @media (max-width: 1050px) {
      .panes { grid-template-columns: 1fr; }
      header { position: relative; }
      .wrap { height: auto; }
    }
  </style>
</head>
<body>
  <header>
    <h1>SQL im Browser (ohne Server) – mit eingebetteter SQLite-Datenbank</h1>
    <div class="sub">
      <div><strong>Aufgabenbeschreibung:</strong> Formuliere SQL-Abfragen zur eingebetteten Datenbank und prüfe deine Ergebnisse direkt im Browser.</div>
      <div>Aufbau: links SQL-Abfrage, in der Mitte Datenbank-Baum (Tabellen & Attribute), rechts die Ergebnis-Ausgabe.</div>
      <div class="hint">Tipp: Mehrere Statements funktionieren (z.B. <span class="kbd">SELECT …;</span>), und du kannst mit <span class="kbd">LIMIT</span> begrenzen.</div>
    </div>
  </header>

  <div class="wrap">
    <div class="panes">
      <section class="pane">
        <div class="title">
          <strong>SQL-Abfrage</strong>
          <span class="pill" id="dbState">Datenbank wird geladen…</span>
        </div>
        <div class="content">
          <textarea id="sql" spellcheck="false">SELECT * FROM social_media_platform LIMIT 20;</textarea>
          <div class="controls">
            <button id="run">▶ Ausführen</button>
            <button id="explain">ℹ️ Schema anzeigen</button>
            <span class="pill" id="status">Bereit</span>
          </div>
          <div class="hint">
            Beispiele:
            <ul>
              <li><span class="kbd">SELECT username, region FROM social_media_platform WHERE banned = 'yes';</span></li>
              <li><span class="kbd">SELECT region, COUNT(*) AS anzahl FROM social_media_platform GROUP BY region ORDER BY anzahl DESC;</span></li>
            </ul>
          </div>
        </div>
      </section>

      <section class="pane">
        <div class="title">
          <strong>Datenbank-Baum</strong>
          <span class="pill">Tabellen & Spalten</span>
        </div>
        <div class="content">
          <div id="tree" class="tree">Wird geladen…</div>
        </div>
      </section>

      <section class="pane">
        <div class="title">
          <strong>Ergebnis</strong>
          <span class="pill" id="meta">–</span>
        </div>
        <div class="content" id="result">
          <div class="hint">Führe links eine Abfrage aus, um Ergebnisse zu sehen.</div>
        </div>
      </section>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.10.2/sql-wasm.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    // --- Eingebettete Datenbank (Base64) ---
    const DB_BASE64 = "U1FMaXRlIGZvcm1hdCAzABAAAQEAQCAgAAAAAgAAAAUAAAAAAAAAAAAAAAEAAAAEAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAC6GKQ0P+AACDlIADlIPrQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAglgBBxc3NwGET3RhYmxlc29jaWFsX21lZGlhX3BsYXRmb3Jtc29jaWFsX21lZGlhX3BsYXRmb3JtAkNSRUFURSBUQUJMRSAic29jaWFsX21lZGlhX3BsYXRmb3JtIigKICAgInVzZXJuYW1lIiB0ZXh0IHByaW1hcnkga2V5LAogICAiZm9sbG93cyIgdGV4dCwKICAgImFjdGl2ZV90aW1lIiB0ZXh0LAogICAiZGV2aWNlIiB0ZXh0LAogICAibGlrZWRfY29tbWVudCIgdGV4dCwKICAgInJlZ2lvbiIgdGV4dCwKICAgImNvbW1lbnRfdGV4dCIgdGV4dCwKICAgImJhbm5lZCIgdGV4dCwKICAgImJhbl9yZWFzb24iIHRleHQsCiAgICJkaXJlY3RfbWVzc2FnZSIgdGV4dCwKICAgImFjY291bnRfdXBkYXRlIiB0ZXh0CilJAgYXXTcBAGluZGV4c3FsaXRlX2F1dG9pbmRleF9zb2NpYWxfbWVkaWFfcGxhdGZvcm1fMXNvY2lhbF9tZWRpYV9wbGF0Zm9ybQMAAAAIAAAAAAUAAAABD/sAAAAABQ/7C9QK+gooCYUJHQhFB8oHQAaoBkMFqQVFBLEEVAPYA0UC2AJnAfkBegEfAK4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG8ZDCcpIyE/GTUAAAAAbGFyYV90aG91Z2h0c3NreWxhcl90aGVyZWFsMTE6MDItMTE6MTlzbWFydHBob25lSWNoIGbDvGhsZSBkZW4gSHlwZSBuaWNodEJyZW1lbkJpbiBpY2ggZGllIEVpbnppZ2U/WRgMJSsjEQAbSQAAAAB0aW1lbGVzcy5qb2V0aGVfcmVhbF9leHBvc2UxOTo0NS0yMDowMnBjRHJlc2RlblRoaXMgY29tbWVudCBzZWN0aW9uIGlzIGEgbWVzc30XDCUpIyFFH0cAAAAAc29mdGllLnNhcmFoc2t5bGFyX3RoZXJlYWwxNjo1NS0xNzoxMnNtYXJ0cGhvbmVJIGtpbmRhIG1pc3MgdGhlIG9sZCBjb250ZW50QW1zdGVyZGFtRXZlcnl0aGluZyBmZWVscyB0aGUgc2FtZSBub3dsFgwpKSMRAB9LEScAAGpvbmFzX2V4cGxhaW5zc2t5bGFyX3RoZXJlYWwxMjoxOC0xMjo0MXBjU3R1dHRnYXJ0UGVvcGxlIGNvbmZ1c2UgZmFtZSB3aXRoIHRhbGVudGphTnV0emVybWVsZHVuZ28VDCUrIxk9F0EAAAAAbWFyaWVsbGEuanBndGhlX3JlYWxfZXhwb3NlMjI6MTAtMjI6MzN0YWJsZXREYXMgZXNrYWxpZXJ0IGhpZXIgdG90YWxQYXJpc1NvY2lhbCBNZWRpYSBpc3QgZWNodCB3aWxkaxQMKykjIQAZWwAAAABjb2ZmZWUud2l0aC50b21za3lsYXJfdGhlcmVhbDA4OjQyLTA5OjAxc21hcnRwaG9uZUxvbmRvbk1vcm5pbmcgdGhvdWdodHMgc2Nyb2xsaW5nIHRocm91Z2ggdGhpc4EQEwwrKyMhSx81ETMAAHJlYWwudGFsa3Nfb25seXRoZV9yZWFsX2V4cG9zZTE3OjAwLTE3OjI2c21hcnRwaG9uZU5pZW1hbmQgZGFyZiBtZWhyIGtyaXRpc2NoIHNlaW5GcmFua2Z1cnRLcml0aWsgaXN0IGtlaW4gSGF0ZWphUmljaHRsaW5pZW52ZXJzdG/Dn3oSDCUpIyFDG0cAAAAAbG9zdC5pbi5sZW5hc2t5bGFyX3RoZXJlYWwyMToxNC0yMTo0MHNtYXJ0cGhvbmVGcsO8aGVyIHdhciBzaWUgSW5zcGlyYXRpb25MZWlwemlnSmV0enQgaXN0IGVzIG51ciBub2NoIFdlcmJ1bmdbEQwhKyMRABdVAAAAAGRhaWx5X21hcmN0aGVfcmVhbF9leHBvc2UxMzowNS0xMzoyMnBjS8O2bG5HYW56IHNjaMO2biB0b3hpc2NoZSBLb21tZW50YXJlIGhpZXKBERAMISkjIUsbTxErAABzb3BoaWEubG5zc2t5bGFyX3RoZXJlYWwxODozMC0xODo1MHNtYXJ0cGhvbmVTaWUgdmVyc3VjaHQgZXMgZWluZmFjaCB6dSBzZWhyWsO8cmljaEF1dGhlbnRpc2NoIGbDvGhsdCBzaWNoIGFuZGVycyBhbmphSW5oYWx0c3Byw7xmdW5nYg8MIykjGQAVXQAAAABub2FoX3RoaW5rc3NreWxhcl90aGVyZWFsMjA6MTEtMjA6Mzl0YWJsZXRXaWVuUGVvcGxlIHJlYWxseSBkZWZlbmQgYW55dGhpbmcgdGhlc2UgZGF5c4EXDgwnKSMhWxsxET8AAHZpYmVzLmJ5LmphbmFza3lsYXJfdGhlcmVhbDE0OjU1LTE1OjIwc21hcnRwaG9uZU1hbiBtZXJrdCByaWNodGlnLCBkYXNzIFJ1aG0gdmVyw6RuZGVydEhhbWJ1cmdUcmF1cmlnIGVpZ2VudGxpY2hqYVRlbXBvcsOkcmUgRWluc2NocsOkbmt1bmdjDQwdKyMRAB1jAAAAAGJlbmppXzA0dGhlX3JlYWxfZXhwb3NlMTk6MDEtMTk6MThwY03DvG5jaGVuV2FydW0gYmVrb21tdCBzb3dhcyBzbyB2aWVsIEF1Zm1lcmtzYW1rZWl0P4EVDAwhKSMhTRlbEScAAHVyYmFuLm1pbGFza3lsYXJfdGhlcmVhbDE2OjEwLTE2OjQyc21hcnRwaG9uZUZyw7xoZXIgZmFuZCBpY2ggc2llIGVjaHQgYmVzc2VyQmVybGluSXJnZW5kd2llIHdpcmt0IGFsbGVzIG51ciBub2NoIGdlc3RlbGx0amFOdXR6ZXJtZWxkdW5ngQcLDSspIyEAHYENAAAAAHRoZV9yZWFsX2V4cG9zZXNreWxhcl90aGVyZWFsMTg6MjItMTg6MjlzbWFydHBob25lTmV3IFlvcmtTY2hvbiBrb21pc2NoLCB3aWUgbWFuY2hlIExldXRlIGRlbmtlbiwgaWhyIFJhbXBlbmxpY2h0IHfDvHJk4oCmeQoMIUszIQAZTwAAAABlbGx5dGhlY2F0c2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE1OjE2LTE1OjMyIG9mZmxpbmVzbWFydHBob25lTG9uZG9uSHVtYW4gZG9pbmcgaHVtYW4gdGhpbmdzIGFnYWlu4oCmgVUJDDVLIyF/HU8RJwAtbGluZGEuYXV0aGVudGljdmliZXNza3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTc6NDItMTc6NTZzbWFydHBob25lQmluIGljaCBkaWUgRWluemlnZSwgZGllIGRlbmt0LCBzaWUgd2lsbCBlcyB2aWVsIHp1IHNlaHI/TmV3IFlvcmtEYXMgcGFzc3Qgc28gc2VociB6dSBtZWluZW0gVmliZSFqYU51dHplcm1lbGR1bmduZXVlcyBQcm9maWxiaWxkZggMLUsjIQAdKQAAAABtb21lbnRzX2J5Y29ubm9yc2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE3OjUzLTE4OjAxc21hcnRwaG9uZU5ldyBZb3JrTG9va3MgcGVhY2VmdWyBIAcML0sjIVsTVwAAAABzdHhkeWluZ3dpdGguZWxsYXNreWxhcl90aGVyZWFsLCB0aGVfcmVhbF9leHBvc2UxNzozMS0xNzo1MnNtYXJ0cGhvbmVTaGUgd2FzIGludGVyZXN0aW5nLCBub3cgc2hl4oCZcyBib3JpbmdSb21UaGlzIGlzIHRoZSBzdHVkeSBtb3RpdmF0aW9uIHlvdSBuZWVkgU8GDC9LIyFjHW0RPwAAbG9sYXMubGl0dGxlLmxpZmVza3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTc6NTgtMTg6MThzbWFydHBob25lSSBtaXNzIHdoZW4gU2t5bGFyIHdhc27igJl0IGFsbCBvdmVyIG15IGZ5cE5ldyBZb3JrTGV1dGUgYWt6ZXB0aWVyZW4gbWl0IFNreWxhciBkYXMgYmFyZSBtaW5pbXVt4oCmamFUZW1wb3LDpHJlIEVpbnNjaHLDpG5rdW5ngVcFDDVLIyFnHVkAAABddGhld29ybGRvZl9zZWJhc3RpYW5za3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTc6MjgtMTc6NDVzbWFydHBob25lRGFzIFJhbXBlbmxpY2h0IGhhdCBzaWUgbmVnYXRpdiB2ZXLDpG5kZXJ04oCmTmV3IFlvcmtMb29rcyBsaWtlIGEgZ29vZCBpbnZlc3RtZW50IG9uIHBhcGVyLm5ldWVzIFByb2ZpbGJpbGQsIG5ldWUgQmlvLCBibGF1ZXIgSGFrZW6BWAQNK0sjEUsXgRERI0cAaGVyYmVydF9zY2h1aDUzc2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE3OjUzLTE4OjA0cGNJaHIgRmFtZSB0dXQgaWhyIGVjaHQgbmljaHQgZ3V0S8O2bG5TY2jDtm5lIEZvdG9zLCBIaWxkYSwgbmltbXN0IG1pY2ggbsOkY2hzdGVzIE1hbCBtaXQgbmFjaCDDhGd5cHRlbj9qYVZlcmTDpGNodGlnQmlsZCB2b24gUGludGVyZXN0IHZvbiBTa3lsYXKCOQMOK0sjIYEJG20RK4FRAGxldmVsdXB3aXRoZmlubnNreWxhcl90aGVyZWFsLCB0aGVfcmVhbF9leHBvc2UxNjozMi0xNzo1OXNtYXJ0cGhvbmVGw7xobHQgc2ljaCBlaGVyIHdpZSBndXRlcyBNYXJrZXRpbmcgYW4sIGtlaW4gZWNodGVzIFRhbGVudOKApkhhbWJ1cmdTY2hvbiB3aWVkZXIgU2t5bGFyIMO8YmVyYWxs4oCmIHJlaWNodCBsYW5nc2FtISFqYUluaGFsdHNwcsO8ZnVuZ0JybywgZGVyIHdhciBlY2h0IGd1dCwgZHUgaGFzdCBlcyBpaHIgcmljaHRpZyBnZWdlYmVuLiBIw7ZyIG5pY2h0IGF1ZiwgZHUgYnJpbmdzdCBtaWNoIHp1bSBMYWNoZW4hgikCDiFLIyGBBx1FAACBMWFqeHN0Y2hsb2Vfc2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE3OjQ0LTE4OjEzc21hcnRwaG9uZVBlb3BsZSBjYWxsIHRoaXMgdGFsZW50PyBTdGFuZGFyZHMgYXJlIHJlYWxseSBsb3cgdGhlc2UgZGF5cy5OZXcgWW9ya1doeSBpcyBTa3lsYXIgZXZlbiB0cmVuZGluZz9Pa2F5LCBhbHNvIGxhbmdzYW0gcmVpY2h0IGVzISBLYW5uc3QgZHUgbmljaHQgbWFsIGF1ZmjDtnJlbiwgc2llIHp1IHRlcnJvcmlzaWVyZW4/bmV1ZXIgdXNlcm5hbWUsIG5ldWUgYmlvLCBnZWzDtnNjaHRlIFBvc3RzgWYBDC1LIyFHHW0RM0UtdGhlMW9ubHlfbWFyaWx5bnNreWxhcl90aGVyZWFsLCB0aGVfcmVhbF9leHBvc2UxODowNC0xODoyMHNtYXJ0cGhvbmVTa3lsYXIgaXN0IGtvbXBsZXR0IG92ZXJyYXRlZE5ldyBZb3JrVmVyc3RlaGUgZWNodCBuaWNodCwgd2FydW0gYWxsZSBTa3lsYXIgc28gZmVpZXJuamFSaWNodGxpbmllbnZlcnN0b8OfW3dlaXRlcmdlbGVpdGV0ZXIgSGF0ZS1Qb3N0XWdlbMO2c2NodGUgAAAABBkKAAAALQzJAA3SDhQPAw0PDZ0Oig7DDzMM6w3zD7UOZg/dDP0OMg1FDbAPyQ9CD4YOsg55DSEOBA9bDMkO4Q3kDV0NMg4jDp4Ncg5VDtIPcA/sDx8PnAzXDkQNwA8QDvENhwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAx8BbmlnaHQub3dsLRMDKwF0aG91Z2h0ZnVsLm5pbmEsEQMnAWVtaWwub2JzZXJ2ZXMrEQMnAWtyaXRpa19pc3Rfb2sqEQMnAWNhc3VhbC52aWV3ZXIpEAMlAW1pYS5qb3VybmFscygSAykBcGF1bC5hbmFseXRpY3MnFwMzAWxhdGUubmlnaHQudGhvdWdodHMmFAMtAW9waW5pb25hdGVkLmVtbWElFAMtAXNjcm9sbC53aXRoLmx1Y2EkFQMvAXdhdGNoaW5nLmZyb21hZmFyIxIDKQFjbGFyYS5yZWZsZWN0cyIPAyMBbGF6eS5zY3JvbGwhEQMnAXRydXRoc2Vla2VyOTkgEQMnAWFsZXguc25hcHNob3QfDgMhAW5vcmFfcmVhZHMeEAMlAWZhYmlfY29ubmVjdB0PAyMBbWluZGZ1bC5tYXgcDgMhAWFubmlrYS5pcmwbDgMhAXBpeGVsLnBhdWwaEQMnAWxhcmFfdGhvdWdodHMZEAMlAXRpbWVsZXNzLmpvZRgQAyUBc29mdGllLnNhcmFoFxIDKQFqb25hc19leHBsYWlucxYQAyUBbWFyaWVsbGEuanBnFRMDKwFjb2ZmZWUud2l0aC50b20UEwMrAXJlYWwudGFsa3Nfb25seRMQAyUBbG9zdC5pbi5sZW5hEg4DIQFkYWlseV9tYXJjEQ4DIQFzb3BoaWEubG5zEA8DIwFub2FoX3RoaW5rcw8RAycBdmliZXMuYnkuamFuYQ4MAx0BYmVuamlfMDQNDgMhAXVyYmFuLm1pbGEMEwMrAXRoZV9yZWFsX2V4cG9zZQsOAyEBZWxseXRoZWNhdAoYAzUBbGluZGEuYXV0aGVudGljdmliZXMJFAMtAW1vbWVudHNfYnljb25ub3IIFQMvAXN0eGR5aW5nd2l0aC5lbGxhBxUDLwFsb2xhcy5saXR0bGUubGlmZQYYAzUBdGhld29ybGRvZl9zZWJhc3RpYW4FEwMrAWhlcmJlcnRfc2NodWg1MwQTAysBbGV2ZWx1cHdpdGhmaW5uAw4DIQFqeHN0Y2hsb2VfAhMDLQl0aGUxb25seV9tYXJpbHluDQAAABkArgAPFw3rDK8L1Ar6CigJhQkdCEUHygdABqgGQwWpBUUEsQRUA9gDRQLYAmcB+QF6AR8ArgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbxkMJykjIT8ZNQAAAABsYXJhX3Rob3VnaHRzc2t5bGFyX3RoZXJlYWwxMTowMi0xMToxOXNtYXJ0cGhvbmVJY2ggZsO8aGxlIGRlbiBIeXBlIG5pY2h0QnJlbWVuQmluIGljaCBkaWUgRWluemlnZT9ZGAwlKyMRABtJAAAAAHRpbWVsZXNzLmpvZXRoZV9yZWFsX2V4cG9zZTE5OjQ1LTIwOjAycGNEcmVzZGVuVGhpcyBjb21tZW50IHNlY3Rpb24gaXMgYSBtZXNzfRcMJSkjIUUfRwAAAABzb2Z0aWUuc2FyYWhza3lsYXJfdGhlcmVhbDE2OjU1LTE3OjEyc21hcnRwaG9uZUkga2luZGEgbWlzcyB0aGUgb2xkIGNvbnRlbnRBbXN0ZXJkYW1FdmVyeXRoaW5nIGZlZWxzIHRoZSBzYW1lIG5vd2wWDCkpIxEAH0sRJwAAam9uYXNfZXhwbGFpbnNza3lsYXJfdGhlcmVhbDEyOjE4LTEyOjQxcGNTdHV0dGdhcnRQZW9wbGUgY29uZnVzZSBmYW1lIHdpdGggdGFsZW50amFOdXR6ZXJtZWxkdW5nbxUMJSsjGT0XQQAAAABtYXJpZWxsYS5qcGd0aGVfcmVhbF9leHBvc2UyMjoxMC0yMjozM3RhYmxldERhcyBlc2thbGllcnQgaGllciB0b3RhbFBhcmlzU29jaWFsIE1lZGlhIGlzdCBlY2h0IHdpbGRrFAwrKSMhABlbAAAAAGNvZmZlZS53aXRoLnRvbXNreWxhcl90aGVyZWFsMDg6NDItMDk6MDFzbWFydHBob25lTG9uZG9uTW9ybmluZyB0aG91Z2h0cyBzY3JvbGxpbmcgdGhyb3VnaCB0aGlzgRATDCsrIyFLHzURMwAAcmVhbC50YWxrc19vbmx5dGhlX3JlYWxfZXhwb3NlMTc6MDAtMTc6MjZzbWFydHBob25lTmllbWFuZCBkYXJmIG1laHIga3JpdGlzY2ggc2VpbkZyYW5rZnVydEtyaXRpayBpc3Qga2VpbiBIYXRlamFSaWNodGxpbmllbnZlcnN0b8OfehIMJSkjIUMbRwAAAABsb3N0LmluLmxlbmFza3lsYXJfdGhlcmVhbDIxOjE0LTIxOjQwc21hcnRwaG9uZUZyw7xoZXIgd2FyIHNpZSBJbnNwaXJhdGlvbkxlaXB6aWdKZXR6dCBpc3QgZXMgbnVyIG5vY2ggV2VyYnVuZ1sRDCErIxEAF1UAAAAAZGFpbHlfbWFyY3RoZV9yZWFsX2V4cG9zZTEzOjA1LTEzOjIycGNLw7Zsbkdhbnogc2Now7ZuIHRveGlzY2hlIEtvbW1lbnRhcmUgaGllcoEREAwhKSMhSxtPESsAAHNvcGhpYS5sbnNza3lsYXJfdGhlcmVhbDE4OjMwLTE4OjUwc21hcnRwaG9uZVNpZSB2ZXJzdWNodCBlcyBlaW5mYWNoIHp1IHNlaHJaw7xyaWNoQXV0aGVudGlzY2ggZsO8aGx0IHNpY2ggYW5kZXJzIGFuamFJbmhhbHRzcHLDvGZ1bmdiDwwjKSMZABVdAAAAAG5vYWhfdGhpbmtzc2t5bGFyX3RoZXJlYWwyMDoxMS0yMDozOXRhYmxldFdpZW5QZW9wbGUgcmVhbGx5IGRlZmVuZCBhbnl0aGluZyB0aGVzZSBkYXlzgRcODCcpIyFbGzERPwAAdmliZXMuYnkuamFuYXNreWxhcl90aGVyZWFsMTQ6NTUtMTU6MjBzbWFydHBob25lTWFuIG1lcmt0IHJpY2h0aWcsIGRhc3MgUnVobSB2ZXLDpG5kZXJ0SGFtYnVyZ1RyYXVyaWcgZWlnZW50bGljaGphVGVtcG9yw6RyZSBFaW5zY2hyw6Rua3VuZ2MNDB0rIxEAHWMAAAAAYmVuamlfMDR0aGVfcmVhbF9leHBvc2UxOTowMS0xOToxOHBjTcO8bmNoZW5XYXJ1bSBiZWtvbW10IHNvd2FzIHNvIHZpZWwgQXVmbWVya3NhbWtlaXQ/gRUMDCEpIyFNGVsRJwAAdXJiYW4ubWlsYXNreWxhcl90aGVyZWFsMTY6MTAtMTY6NDJzbWFydHBob25lRnLDvGhlciBmYW5kIGljaCBzaWUgZWNodCBiZXNzZXJCZXJsaW5JcmdlbmR3aWUgd2lya3QgYWxsZXMgbnVyIG5vY2ggZ2VzdGVsbHRqYU51dHplcm1lbGR1bmeBBwsNKykjIQAdgQ0AAAAAdGhlX3JlYWxfZXhwb3Nlc2t5bGFyX3RoZXJlYWwxODoyMi0xODoyOXNtYXJ0cGhvbmVOZXcgWW9ya1NjaG9uIGtvbWlzY2gsIHdpZSBtYW5jaGUgTGV1dGUgZGVua2VuLCBpaHIgUmFtcGVubGljaHQgd8O8cmTigKZ5CgwhSzMhABlPAAAAAGVsbHl0aGVjYXRza3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTU6MTYtMTU6MzIgb2ZmbGluZXNtYXJ0cGhvbmVMb25kb25IdW1hbiBkb2luZyBodW1hbiB0aGluZ3MgYWdhaW7igKaBVQkMNUsjIX8dTxEnAC1saW5kYS5hdXRoZW50aWN2aWJlc3NreWxhcl90aGVyZWFsLCB0aGVfcmVhbF9leHBvc2UxNzo0Mi0xNzo1NnNtYXJ0cGhvbmVCaW4gaWNoIGRpZSBFaW56aWdlLCBkaWUgZGVua3QsIHNpZSB3aWxsIGVzIHZpZWwgenUgc2Vocj9OZXcgWW9ya0RhcyBwYXNzdCBzbyBzZWhyIHp1IG1laW5lbSBWaWJlIWphTnV0emVybWVsZHVuZ25ldWVzIFByb2ZpbGJpbGRmCAwtSyMhAB0pAAAAAG1vbWVudHNfYnljb25ub3Jza3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTc6NTMtMTg6MDFzbWFydHBob25lTmV3IFlvcmtMb29rcyBwZWFjZWZ1bIEgBwwvSyMhWxNXAAAAAHN0eGR5aW5nd2l0aC5lbGxhc2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE3OjMxLTE3OjUyc21hcnRwaG9uZVNoZSB3YXMgaW50ZXJlc3RpbmcsIG5vdyBzaGXigJlzIGJvcmluZ1JvbVRoaXMgaXMgdGhlIHN0dWR5IG1vdGl2YXRpb24geW91IG5lZWSBTwYML0sjIWMdbRE/AABsb2xhcy5saXR0bGUubGlmZXNreWxhcl90aGVyZWFsLCB0aGVfcmVhbF9leHBvc2UxNzo1OC0xODoxOHNtYXJ0cGhvbmVJIG1pc3Mgd2hlbiBTa3lsYXIgd2FzbuKAmXQgYWxsIG92ZXIgbXkgZnlwTmV3IFlvcmtMZXV0ZSBha3plcHRpZXJlbiBtaXQgU2t5bGFyIGRhcyBiYXJlIG1pbmltdW3igKZqYVRlbXBvcsOkcmUgRWluc2NocsOkbmt1bmeBVwUMNUsjIWcdWQAAAF10aGV3b3JsZG9mX3NlYmFzdGlhbnNreWxhcl90aGVyZWFsLCB0aGVfcmVhbF9leHBvc2UxNzoyOC0xNzo0NXNtYXJ0cGhvbmVEYXMgUmFtcGVubGljaHQgaGF0IHNpZSBuZWdhdGl2IHZlcsOkbmRlcnTigKZOZXcgWW9ya0xvb2tzIGxpa2UgYSBnb29kIGludmVzdG1lbnQgb24gcGFwZXIubmV1ZXMgUHJvZmlsYmlsZCwgbmV1ZSBCaW8sIGJsYXVlciBIYWtlboFYBA0rSyMRSxeBEREjRwBoZXJiZXJ0X3NjaHVoNTNza3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTc6NTMtMTg6MDRwY0lociBGYW1lIHR1dCBpaHIgZWNodCBuaWNodCBndXRLw7ZsblNjaMO2bmUgRm90b3MsIEhpbGRhLCBuaW1tc3QgbWljaCBuw6RjaHN0ZXMgTWFsIG1pdCBuYWNoIMOEZ3lwdGVuP2phVmVyZMOkY2h0aWdCaWxkIHZvbiBQaW50ZXJlc3Qgdm9uIFNreWxhcoI5Aw4rSyMhgQkbbRErgVEAbGV2ZWx1cHdpdGhmaW5uc2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE2OjMyLTE3OjU5c21hcnRwaG9uZUbDvGhsdCBzaWNoIGVoZXIgd2llIGd1dGVzIE1hcmtldGluZyBhbiwga2VpbiBlY2h0ZXMgVGFsZW504oCmSGFtYnVyZ1NjaG9uIHdpZWRlciBTa3lsYXIgw7xiZXJhbGzigKYgcmVpY2h0IGxhbmdzYW0hIWphSW5oYWx0c3Byw7xmdW5nQnJvLCBkZXIgd2FyIGVjaHQgZ3V0LCBkdSBoYXN0IGVzIGlociByaWNodGlnIGdlZ2ViZW4uIEjDtnIgbmljaHQgYXVmLCBkdSBicmluZ3N0IG1pY2ggenVtIExhY2hlbiGCKQIOIUsjIYEHHUUAAIExYWp4c3RjaGxvZV9za3lsYXJfdGhlcmVhbCwgdGhlX3JlYWxfZXhwb3NlMTc6NDQtMTg6MTNzbWFydHBob25lUGVvcGxlIGNhbGwgdGhpcyB0YWxlbnQ/IFN0YW5kYXJkcyBhcmUgcmVhbGx5IGxvdyB0aGVzZSBkYXlzLk5ldyBZb3JrV2h5IGlzIFNreWxhciBldmVuIHRyZW5kaW5nP09rYXksIGFsc28gbGFuZ3NhbSByZWljaHQgZXMhIEthbm5zdCBkdSBuaWNodCBtYWwgYXVmaMO2cmVuLCBzaWUgenUgdGVycm9yaXNpZXJlbj9uZXVlciB1c2VybmFtZSwgbmV1ZSBiaW8sIGdlbMO2c2NodGUgUG9zdHOBZgEMLUsjIUcdbREzRS10aGUxb25seV9tYXJpbHluc2t5bGFyX3RoZXJlYWwsIHRoZV9yZWFsX2V4cG9zZTE4OjA0LTE4OjIwc21hcnRwaG9uZVNreWxhciBpc3Qga29tcGxldHQgb3ZlcnJhdGVkTmV3IFlvcmtWZXJzdGVoZSBlY2h0IG5pY2h0LCB3YXJ1bSBhbGxlIFNreWxhciBzbyBmZWllcm5qYVJpY2h0bGluaWVudmVyc3Rvw59bd2VpdGVyZ2VsZWl0ZXRlciBIYXRlLVBvc3RdZ2Vsw7ZzY2h0ZSBQb3N0cw0AAAAUBvoAD3oPJA6yDkYNvA1nDNwMcgvrC4ULHwqICfsJiwkOCLkINgfYB0wG+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQLQwfKyMZABc5AAAAAG5pZ2h0Lm93bHRoZV9yZWFsX2V4cG9zZTAwOjQwLTAxOjA1dGFibGV0QmFzZWxMYXRlLW5pZ2h0IHJhYmJpdCBob2xlgQksDCspIyFXH0cAAAAAdGhvdWdodGZ1bC5uaW5hc2t5bGFyX3RoZXJlYWwxNDo0OC0xNToxMnNtYXJ0cGhvbmVBbGxlIGRyZWhlbiBnZXJhZGUgZWluIGJpc3NjaGVuIGR1cmNoVMO8YmluZ2VuU29jaWFsIE1lZGlhIHZlcnN0w6Rya3QgYWxsZXNcKwwnKSMhABlBAAAAAGVtaWwub2JzZXJ2ZXNza3lsYXJfdGhlcmVhbDA4OjE1LTA4OjMzc21hcnRwaG9uZUx1emVybk1vcm5pbmcgc2Nyb2xsIGJlZm9yZSB3b3JrgQAqDCcrIxE7GUcRKwAAa3JpdGlrX2lzdF9va3RoZV9yZWFsX2V4cG9zZTE3OjEwLTE3OjM0cGNEYXMgaXN0IGxlZ2l0aW1lIEtyaXRpa0VyZnVydE5pY2h0IGFsbGVzIE5lZ2F0aXZlIGlzdCBIYXRlamFJbmhhbHRzcHLDvGZ1bmdTKQwnKSMhAB0rAAAAAGNhc3VhbC52aWV3ZXJza3lsYXJfdGhlcmVhbDE5OjA1LTE5OjIxc21hcnRwaG9uZUF1Z3NidXJnSnVzdCBwYXNzaW5nIGJ5eygMJSkjGVEVSQAAAABtaWEuam91cm5hbHNza3lsYXJfdGhlcmVhbDE1OjQwLTE2OjA1dGFibGV0RGFzIGbDvGhsdCBzaWNoIG5pY2h0IG1laHIgZWNodCBhbkdyYXpJY2ggdmVybWlzc2UgZGllIGFsdGVuIEluaGFsdGVuJwwpKyMRAB9rAAAAAHBhdWwuYW5hbHl0aWNzdGhlX3JlYWxfZXhwb3NlMDk6MzAtMDk6NTVwY0thcmxzcnVoZUVuZ2FnZW1lbnQgZHVyY2ggS29udHJvdmVyc2UgZnVua3Rpb25pZXJ0IGltbWVygQomDDMpIyFRIUUAAAAAbGF0ZS5uaWdodC50aG91Z2h0c3NreWxhcl90aGVyZWFsMjM6NDgtMDA6MDVzbWFydHBob25lWnUgdmllbCBEcmFtYSBmw7xyIHNvIHdlbmlnIEluaGFsdFJlZ2Vuc2J1cmdXaHkgYW0gSSBzdGlsbCB3YXRjaGluZyB0aGlzgRQlDC0rIyFHF1MRJwAAb3BpbmlvbmF0ZWQuZW1tYXRoZV9yZWFsX2V4cG9zZTE4OjEyLTE4OjM3c21hcnRwaG9uZU1hbiBkYXJmIGphIG5pY2h0cyBtZWhyIHNhZ2VuTWFpbnpLcml0aWsgd2lyZCBzb2ZvcnQgYWxzIEhhdGUgZ2VzZWhlbmphTnV0emVybWVsZHVuZ2QkDC0pIyEAGUsAAAAAc2Nyb2xsLndpdGgubHVjYXNreWxhcl90aGVyZWFsMTI6MDUtMTI6MjJzbWFydHBob25lQm9jaHVtTm90IHN1cmUgd2h5IHRoaXMgaXMgb24gbXkgZmVlZGQjDC8rIxkAHUsAAAAAd2F0Y2hpbmcuZnJvbWFmYXJ0aGVfcmVhbF9leHBvc2UyMDowMC0yMDoxOHRhYmxldEhlbHNpbmtpSW50ZXJlc3RpbmcgdG8gb2JzZXJ2ZSBhbGwgdGhpc4EEIgwpKSMhTx9HAAAAAGNsYXJhLnJlZmxlY3Rzc2t5bGFyX3RoZXJlYWwxNzowNS0xNzoyOXNtYXJ0cGhvbmVEYXMgbWFjaHQgYWxsZXMga2VpbmVuIFNwYcOfIG1laHJJbm5zYnJ1Y2tTb2NpYWwgTWVkaWEgd2FyIG1hbCBsZWljaHRlcmghDCMpIyEAGV0AAAAAbGF6eS5zY3JvbGxza3lsYXJfdGhlcmVhbDAxOjEwLTAxOjI1c21hcnRwaG9uZU1hZHJpZENvdWxkbuKAmXQgc2xlZXAsIG5vdyBJIHJlZ3JldCBzY3JvbGxpbmeBCCAMJysjEUEZSREzAAB0cnV0aHNlZWtlcjk5dGhlX3JlYWxfZXhwb3NlMjI6NDUtMjM6MTBwY0VuZGxpY2ggc2FndCBlcyBtYWwgamVtYW5kQmVybGluRGllIEZhbnMgw7xiZXJ0cmVpYmVuIGtvbXBsZXR0amFSaWNodGxpbmllbnZlcnN0b8OfUx8MJykjGQAbNQAAAABhbGV4LnNuYXBzaG90c2t5bGFyX3RoZXJlYWwxNDoxMC0xNDozNmNhbWVyYU1haWxhbmROaWNlIGxpZ2h0aW5nIHRob3VnaIEHHgwhKSMhQR1lAAAAAG5vcmFfcmVhZHNza3lsYXJfdGhlcmVhbDEwOjIxLTEwOjM4c21hcnRwaG9uZVdhcnVtIHNpbmQgYWxsZSBzbyBleHRyZW0/U2FsemJ1cmdad2lzY2hlbiBLcml0aWsgdW5kIEhhdGUgaXN0IGVpbiBVbnRlcnNjaGllZGodDCUrIyEAE0URJwAAZmFiaV9jb25uZWN0dGhlX3JlYWxfZXhwb3NlMTg6NDAtMTk6MDVzbWFydHBob25lVWxtRmVlbHMgdW5uZWNlc3NhcnkgYWdncmVzc2l2ZWphTnV0emVybWVsZHVuZ3AcDCMpIxlFFUEAAAAAbWluZGZ1bC5tYXhza3lsYXJfdGhlcmVhbDA5OjEwLTA5OjM0dGFibGV0U29jaWFsIE1lZGlhIGZyaXNzdCBNZW5zY2hlbkJlcm5NYW4gc2llaHQgZXMgaGllciBnYW56IGd1dFQbDCEpIyEAFTsAAAAAYW5uaWthLmlybHNreWxhcl90aGVyZWFsMTU6MzMtMTU6NTBzbWFydHBob25lT3Nsb1RoaXMgcG9wcGVkIHVwIHJhbmRvbWx5gQMaDCEpIxE5H1ERKwAAcGl4ZWwucGF1bHNreWxhcl90aGVyZWFsMjM6MTAtMjM6MzVwY0FsbGVzIG51ciBub2NoIEthbGvDvGxOw7xybmJlcmdNYXJrZXRpbmcgc2NobMOkZ3QgUGVyc8O2bmxpY2hrZWl0amFJbmhhbHRzcHLDvGZ1bmc=";

    function base64ToUint8Array(b64) {
      const bin = atob(b64);
      const len = bin.length;
      const bytes = new Uint8Array(len);
      for (let i = 0; i < len; i++) bytes[i] = bin.charCodeAt(i);
      return bytes;
    }

    let SQL = null;
    let db = null;

    const el = (id) => document.getElementById(id);

    function setStatus(msg, ok=true) {
      const s = el('status');
      s.textContent = msg;
      s.classList.toggle('status-ok', ok);
      s.classList.toggle('status-bad', !ok);
    }

    function escapeHtml(str) {
      return String(str)
        .replaceAll('&', '&amp;')
        .replaceAll('<', '&lt;')
        .replaceAll('>', '&gt;')
        .replaceAll('"', '&quot;')
        .replaceAll("'", '&#039;');
    }

    function renderTable(resultObj) {
      const cols = resultObj.columns || [];
      const vals = resultObj.values || [];
      if (!cols.length) return '<div class="hint">Keine Spalten im Ergebnis.</div>';

      let out = '<table><thead><tr>';
      for (const c of cols) out += `<th>${escapeHtml(c)}</th>`;
      out += '</tr></thead><tbody>';

      const maxRows = 500;
      const shown = Math.min(vals.length, maxRows);

      for (let r = 0; r < shown; r++) {
        out += '<tr>';
        for (let c = 0; c < cols.length; c++) {
          const v = vals[r][c];
          out += `<td>${escapeHtml(v === null ? 'NULL' : v)}</td>`;
        }
        out += '</tr>';
      }
      out += '</tbody></table>';

      if (vals.length > maxRows) {
        out += `<div class="hint">Hinweis: Es werden nur die ersten ${maxRows} Zeilen angezeigt (insgesamt ${vals.length}).</div>`;
      }
      return out;
    }

    function buildTree() {
      const treeEl = el('tree');
      try {
        const tables = db.exec("SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name;");
        if (!tables.length || !tables[0].values.length) {
          treeEl.innerHTML = '<div class="hint">Keine Tabellen gefunden.</div>';
          return;
        }

        let out = '';
        for (const row of tables[0].values) {
          const tname = row[0];
          const cols = db.exec(`PRAGMA table_info("${tname.replaceAll('"','""')}");`);
          const colRows = cols.length ? cols[0].values : [];
          out += `<details open>
                    <summary>${escapeHtml(tname)}</summary>
                    <ul>`;
          for (const c of colRows) {
            const name = c[1];
            const type = c[2] || '';
            const pk = c[5] ? ' PK' : '';
            out += `<li>${escapeHtml(name)} <span style="opacity:.75">(${escapeHtml(type + pk)})</span></li>`;
          }
          out += `</ul>
                 </details>`;
        }
        treeEl.innerHTML = out;
      } catch (e) {
        treeEl.innerHTML = `<div class="hint status-bad">Fehler beim Erzeugen des DB-Baums: ${escapeHtml(e.message)}</div>`;
      }
    }

    function runSql(sqlText) {
      const resEl = el('result');
      const metaEl = el('meta');

      try {
        const t0 = performance.now();
        const results = db.exec(sqlText);
        const t1 = performance.now();

        if (!results.length) {
          resEl.innerHTML = '<div class="hint">Statement ausgeführt. Keine Ergebnis-Tabelle zurückgegeben.</div>';
          metaEl.textContent = `OK · ${(t1 - t0).toFixed(1)} ms`;
          setStatus('OK', true);
          return;
        }

        resEl.innerHTML = renderTable(results[0]) + (results.length > 1
          ? `<div class="hint">Hinweis: ${results.length} Resultsets – angezeigt wird das erste.</div>`
          : '');
        const rows = (results[0].values && results[0].values.length) ? results[0].values.length : 0;
        metaEl.textContent = `${rows} Zeilen · ${(t1 - t0).toFixed(1)} ms`;
        setStatus('OK', true);
      } catch (e) {
        resEl.innerHTML = `<div class="hint status-bad"><strong>SQL-Fehler:</strong> ${escapeHtml(e.message)}</div>`;
        metaEl.textContent = 'Fehler';
        setStatus('Fehler', false);
      }
    }

    function showSchema() {
      const resEl = el('result');
      const metaEl = el('meta');

      try {
        const tables = db.exec("SELECT name, sql FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name;");
        if (!tables.length || !tables[0].values.length) {
          resEl.innerHTML = '<div class="hint">Keine Tabellen gefunden.</div>';
          metaEl.textContent = '–';
          return;
        }
        let out = '';
        for (const row of tables[0].values) {
          const name = row[0];
          const sql = row[1];
          out += `<div style="margin-bottom:10px;">
                    <div style="font-weight:650; margin-bottom:6px;">${escapeHtml(name)}</div>
                    <pre style="white-space:pre-wrap; margin:0; font-family:var(--mono); font-size:12.5px; padding:10px; border:1px solid rgba(255,255,255,.12); border-radius:10px; background: rgba(0,0,0,.14);">${escapeHtml(sql)}</pre>
                  </div>`;
        }
        resEl.innerHTML = out;
        metaEl.textContent = 'Schema';
      } catch (e) {
        resEl.innerHTML = `<div class="hint status-bad">Fehler: ${escapeHtml(e.message)}</div>`;
        metaEl.textContent = 'Fehler';
      }
    }

    async function main() {
      try {
        setStatus('Lade SQL-Engine…', true);

        SQL = await initSqlJs({
          locateFile: file => `vendor/${file}`
        });

        const dbBytes = base64ToUint8Array(DB_BASE64);
        db = new SQL.Database(dbBytes);

        el('dbState').textContent = 'DB geladen';
        setStatus('Bereit', true);

        buildTree();

        el('run').addEventListener('click', () => runSql(el('sql').value));
        el('explain').addEventListener('click', () => showSchema());
        el('sql').addEventListener('keydown', (ev) => {
          if ((ev.ctrlKey || ev.metaKey) && ev.key === 'Enter') {
            ev.preventDefault();
            runSql(el('sql').value);
          }
        });

      } catch (e) {
        el('dbState').textContent = 'Fehler';
        setStatus('Fehler beim Laden', false);
        el('result').innerHTML =
          `<div class="hint status-bad"><strong>Start-Fehler:</strong> ${escapeHtml(e.message)}</div>
           <div class="hint">Hinweis: Es gibt keinen Server/Backend. Es muss nur das sql.js-Script/WASM vom CDN geladen werden (Internetverbindung nötig).</div>`;
      }
    }

    main();
  </script>
</body>
</html>
